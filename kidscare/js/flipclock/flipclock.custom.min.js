var Base=function(){};Base.extend=function(f,b){var g=Base.prototype.extend;Base._prototyping=!0;var d=new this;g.call(d,f);d.base=function(){};delete Base._prototyping;var a=d.constructor,c=d.constructor=function(){if(!Base._prototyping){if(this._constructing||this.constructor==c){this._constructing=!0;a.apply(this,arguments);delete this._constructing}else{if(arguments[0]!==null){return(arguments[0].extend||g).call(arguments[0],d)}}}};c.ancestor=this;c.extend=this.extend;c.forEach=this.forEach;c.implement=this.implement;c.prototype=d;c.toString=this.toString;c.valueOf=function(h){return h=="object"?c:a.valueOf()};g.call(c,b);typeof c.init=="function"&&c.init();return c};Base.prototype={extend:function(g,k){if(arguments.length>1){var d=this[g];if(d&&typeof k=="function"&&(!d.valueOf||d.valueOf()!=k.valueOf())&&/\bbase\b/.test(k)){var b=k.valueOf();k=function(){var i=this.base||Base.prototype.base;this.base=d;var a=b.apply(this,arguments);this.base=i;return a};k.valueOf=function(a){return a=="object"?k:b};k.toString=Base.toString}this[g]=k}else{if(g){var f=Base.prototype.extend;!Base._prototyping&&typeof this!="function"&&(f=this.extend||f);var l={toSource:null},c=["constructor","toString","valueOf"],j=Base._prototyping?0:1;while(h=c[j++]){g[h]!=l[h]&&f.call(this,h,g[h])}for(var h in g){l[h]||f.call(this,h,g[h])}}}return this}};Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(c,a,d){for(var b in c){this.prototype[b]===undefined&&a.call(d,c[b],b,c)}},implement:function(){for(var a=0;a<arguments.length;a++){typeof arguments[a]=="function"?arguments[a](this.prototype):this.prototype.extend(arguments[a])}return this},toString:function(){return String(this.valueOf())}});var FlipClock;(function(a){FlipClock=function(c,b,d){return new FlipClock.Factory(c,b,d)};FlipClock.Lang={};FlipClock.Base=Base.extend({buildDate:"2013-11-07",version:"0.3.1",constructor:function(b,c){typeof b!="object"&&(b={});typeof c!="object"&&(c={});this.setOptions(a.extend(!0,{},b,c))},callback:function(c){if(typeof c=="function"){var b=[];for(var d=1;d<=arguments.length;d++){arguments[d]&&b.push(arguments[d])}c.apply(this,b)}},log:function(b){window.console&&console.log&&console.log(b)},getOption:function(b){return this[b]?this[b]:!1},getOptions:function(){return this},setOption:function(c,b){this[c]=b},setOptions:function(c){for(var b in c){typeof c[b]!="undefined"&&this.setOption(b,c[b])}}});FlipClock.Factory=FlipClock.Base.extend({autoStart:!0,callbacks:{destroy:!1,create:!1,init:!1,interval:!1,start:!1,stop:!1,reset:!1},classes:{active:"flip-clock-active",before:"flip-clock-before",divider:"flip-clock-divider",dot:"flip-clock-dot",label:"flip-clock-label",flip:"flip",play:"play",wrapper:"flip-clock-wrapper"},clockFace:"HourlyCounter",defaultClockFace:"HourlyCounter",defaultLanguage:"english",language:"english",lang:!1,face:!0,running:!1,time:!1,timer:!1,lists:[],$wrapper:!1,constructor:function(b,d,c){this.lists=[];this.running=!1;this.base(c);this.$wrapper=a(b).addClass(this.classes.wrapper);this.time=new FlipClock.Time(this,d?Math.round(d):0);this.timer=new FlipClock.Timer(this,c);this.lang=this.loadLanguage(this.language);this.face=this.loadClockFace(this.clockFace,c);this.autoStart&&this.start()},loadClockFace:function(d,b){var f,c="Face";d=d.ucfirst()+c;FlipClock[d]?f=new FlipClock[d](this,b):f=new FlipClock[this.defaultClockFace+c](this,b);f.build();return f},loadLanguage:function(c){var b;FlipClock.Lang[c.ucfirst()]?b=FlipClock.Lang[c.ucfirst()]:FlipClock.Lang[c]?b=FlipClock.Lang[c]:b=FlipClock.Lang[this.defaultLanguage];return b},localize:function(d,b){var f=this.lang,c=d.toLowerCase();typeof b=="object"&&(f=b);return f&&f[c]?f[c]:d},start:function(c){var b=this;if(!b.running&&(!b.countdown||b.countdown&&b.time.time>0)){b.face.start(b.time);b.timer.start(function(){b.flip();typeof c=="function"&&c()})}else{b.log("Trying to start timer when countdown already at 0")}},stop:function(c){this.face.stop();this.timer.stop(c);for(var b in this.lists){this.lists[b].stop()}},reset:function(b){this.timer.reset(b);this.face.reset()},setTime:function(b){this.time.time=b;this.face.setTime(b)},getTime:function(b){return this.time},setCountdown:function(c){var b=this.running;this.countdown=c?!0:!1;if(b){this.stop();this.start()}},flip:function(){this.face.flip()}});FlipClock.Face=FlipClock.Base.extend({dividers:[],factory:!1,lists:[],constructor:function(c,b){this.base(b);this.factory=c;this.dividers=[]},build:function(){},createDivider:function(b,e,d){if(typeof e=="boolean"||!e){d=e;e=b}b=this.factory.localize(b);var c=['<div class="'+this.factory.classes.divider+" "+this.factory.classes.label+" "+(e?e:"").toLowerCase()+'"></div>'];return a(c.join(""))},createList:function(c,b){if(typeof c=="object"){b=c;c=0}var d=new FlipClock.List(this.factory,c,b);return d},reset:function(){},setTime:function(b){this.flip(b)},addDigit:function(c){var b=this.createList(c,{classes:{active:this.factory.classes.active,before:this.factory.classes.before,flip:this.factory.classes.flip}});b.$obj.insertBefore(this.factory.lists[0].$obj);this.factory.lists.unshift(b)},start:function(){},stop:function(){},flip:function(d,h){var f=this;if(!h){if(!f.factory.countdown){f.factory.time.time++}else{f.factory.time.time<=0&&f.factory.stop();f.factory.time.time--}}var c=f.factory.lists.length-d.length;c<0&&(c=0);var e=0,g=!1;a.each(d,function(l,j){l+=c;var k=f.factory.lists[l];if(k){var i=k.digit;k.select(j);j!=i&&!h&&k.play()}else{f.addDigit(j);g=!0}});for(var b=0;b<d.length;b++){b>=c&&f.factory.lists[b].digit!=d[b]&&f.factory.lists[b].select(d[b])}}});FlipClock.List=FlipClock.Base.extend({digit:0,classes:{active:"flip-clock-active",before:"flip-clock-before",flip:"flip"},factory:!1,$obj:!1,items:[],constructor:function(c,b,d){this.factory=c;this.digit=b;this.$obj=this.createList();b>0&&this.select(b);this.factory.$wrapper.append(this.$obj)},select:function(d){typeof d=="undefined"?d=this.digit:this.digit=d;var b=this.$obj.find('[data-digit="'+d+'"]'),f=this.$obj.find("."+this.classes.active).removeClass(this.classes.active),c=this.$obj.find("."+this.classes.before).removeClass(this.classes.before);this.factory.countdown?b.is(":last-child")?this.$obj.find(":first-child").addClass(this.classes.before):b.next().addClass(this.classes.before):b.is(":first-child")?this.$obj.find(":last-child").addClass(this.classes.before):b.prev().addClass(this.classes.before);b.addClass(this.classes.active)},play:function(){this.$obj.addClass(this.factory.classes.play)},stop:function(){var b=this;setTimeout(function(){b.$obj.removeClass(b.factory.classes.play)},this.factory.timer.interval)},createList:function(){var b=a('<ul class="rad4 '+this.classes.flip+'" />');for(var d=0;d<10;d++){var c=a(['<li data-digit="'+d+'">','<a href="#">','<div class="up">','<div class="shadow"></div>','<div class="inn">'+d+"</div>","</div>",'<div class="down">','<div class="shadow"></div>','<div class="inn">'+d+"</div>","</div>","</a>","</li>"].join(""));this.items.push(c);b.append(c)}return b}});FlipClock.Time=FlipClock.Base.extend({minimumDigits:0,time:0,factory:!1,constructor:function(c,b,d){this.base(d);this.factory=c;b&&(this.time=b)},convertDigitsToArray:function(c){var b=[];c=c.toString();for(var d=0;d<c.length;d++){c[d].match(/^\d*$/g)&&b.push(c[d])}return b},digit:function(c){var b=this.toString(),d=b.length;return b[d-c]?b[d-c]:!1},digitize:function(b){var c=[];a.each(b,function(g,d){d=d.toString();d.length==1&&(d="0"+d);for(var f=0;f<d.length;f++){c.push(d[f])}});c.length>this.minimumDigits&&(this.minimumDigits=c.length);this.minimumDigits>c.length&&c.unshift("0");return c},getDayCounter:function(c){var b=[this.getDays(),this.getHours(!0),this.getMinutes(!0)];c&&b.push(this.getSeconds(!0));return this.digitize(b)},getDays:function(c){var b=this.time/60/60/24;c&&(b%=7);return Math.floor(b)},getHourCounter:function(){var b=this.digitize([this.getHours(),this.getMinutes(!0),this.getSeconds(!0)]);return b},getHourly:function(){return this.getHourCounter()},getHours:function(c){var b=this.time/60/60;c&&(b%=24);return Math.floor(b)},getMilitaryTime:function(){var c=new Date,b=this.digitize([c.getHours(),c.getMinutes(),c.getSeconds()]);return b},getMinutes:function(c){var b=this.time/60;c&&(b%=60);return Math.floor(b)},getMinuteCounter:function(){var b=this.digitize([this.getMinutes(),this.getSeconds(!0)]);return b},getSeconds:function(c){var b=this.time;c&&(b==60?b=0:b%=60);return Math.ceil(b)},getTime:function(){var d=new Date,b=d.getHours(),f=b>12?"PM":"AM",c=this.digitize([b>12?b-12:b===0?12:b,d.getMinutes(),d.getSeconds()]);return c},getWeeks:function(){var b=this.time/60/60/24/7;mod&&(b%=52);return Math.floor(b)},removeLeadingZeros:function(c,e){var d=0,b=[];a.each(e,function(g,f){g<c?d+=parseInt(e[g],10):b.push(e[g])});return d===0?b:e},toString:function(){return this.time.toString()}});FlipClock.Timer=FlipClock.Base.extend({callbacks:{destroy:!1,create:!1,init:!1,interval:!1,start:!1,stop:!1,reset:!1},count:0,factory:!1,interval:1000,constructor:function(c,b){this.base(b);this.factory=c;this.callback(this.callbacks.init);this.callback(this.callbacks.create)},getElapsed:function(){return this.count*this.interval},getElapsedTime:function(){return new Date(this.time+this.getElapsed())},reset:function(b){clearInterval(this.timer);this.count=0;this._setInterval(b);this.callback(this.callbacks.reset)},start:function(b){this.factory.running=!0;this._createTimer(b);this.callback(this.callbacks.start)},stop:function(b){this.factory.running=!1;this._clearInterval(b);this.callback(this.callbacks.stop);this.callback(b)},_clearInterval:function(){clearInterval(this.timer)},_createTimer:function(b){this._setInterval(b)},_destroyTimer:function(b){this._clearInterval();this.timer=!1;this.callback(b);this.callback(this.callbacks.destroy)},_interval:function(b){this.callback(this.callbacks.interval);this.callback(b);this.count++},_setInterval:function(c){var b=this;b.timer=setInterval(function(){b._interval(c)},this.interval)}});String.prototype.ucfirst=function(){return this.substr(0,1).toUpperCase()+this.substr(1)};a.fn.FlipClock=function(b,c){if(typeof b=="object"){c=b;b=0}return new FlipClock(a(this),b,c)};a.fn.flipClock=function(b,c){return a.fn.FlipClock(b,c)}})(jQuery);(function(a){FlipClock.Lang.English={years:"Years",months:"Months",days:"Days",hours:"Hours",minutes:"Minutes",seconds:"Seconds"};FlipClock.Lang.en=FlipClock.Lang.English;FlipClock.Lang["en-us"]=FlipClock.Lang.English;FlipClock.Lang.english=FlipClock.Lang.English})(jQuery);(function(a){FlipClock.Lang.Spanish={years:"A&#241;os",months:"Meses",days:"D&#205;as",hours:"Horas",minutes:"Minutos",seconds:"Segundo"};FlipClock.Lang.es=FlipClock.Lang.Spanish;FlipClock.Lang["es-es"]=FlipClock.Lang.Spanish;FlipClock.Lang.spanish=FlipClock.Lang.Spanish})(jQuery);(function(a){FlipClock.Lang.German={years:"Jahre",months:"Monate",days:"Tage",hours:"Stunden",minutes:"Minuten",seconds:"Sekunden"};FlipClock.Lang.de=FlipClock.Lang.German;FlipClock.Lang["de-de"]=FlipClock.Lang.German;FlipClock.Lang.german=FlipClock.Lang.German})(jQuery);(function(a){FlipClock.CounterFace=FlipClock.Face.extend({autoStart:!1,constructor:function(c,b){c.timer.interval=0;c.autoStart=!1;c.increment=function(){c.countdown=!1;c.setTime(c.getTime().time+1)};c.decrement=function(){c.countdown=!0;c.setTime(c.getTime().time-1)};c.setValue=function(d){c.setTime(d)};c.setCounter=function(d){c.setTime(d)};this.base(c,b)},build:function(){var c=this,e=this.factory.$wrapper.find("ul"),d=[],b=this.factory.getTime().digitize([this.factory.getTime().time]);b.length>e.length&&a.each(b,function(g,h){var f=c.createList(h);f.select(h);d.push(f)});a.each(d,function(g,f){f.play()});this.factory.lists=d},flip:function(c){var b=this.factory.getTime().digitize([this.factory.getTime().time]);this.base(b,c)}})})(jQuery);(function(a){FlipClock.HourlyCounterFace=FlipClock.Face.extend({clearExcessDigits:!0,constructor:function(c,b){this.base(c,b)},build:function(c,f){var e=this,b=this.factory.$wrapper.find("ul"),d=[];f=f?f:this.factory.time.getHourCounter();f.length>b.length&&a.each(f,function(h,g){d.push(e.createList(g))});this.factory.lists=d;a(this.createDivider("Seconds")).insertBefore(this.factory.lists[this.factory.lists.length-2].$obj);a(this.createDivider("Minutes")).insertBefore(this.factory.lists[this.factory.lists.length-4].$obj);c||a(this.createDivider("Hours",!0)).insertBefore(this.factory.lists[0].$obj);this.clearExcessDigits&&this._clearExcessDigits();this.autoStart&&this.start()},flip:function(c,b){b||(b=this.factory.time.getHourCounter());this.base(b,c)},_clearExcessDigits:function(){var c=this.factory.lists[this.factory.lists.length-2],b=this.factory.lists[this.factory.lists.length-4];for(var d=6;d<10;d++){c.$obj.find("li:last-child").remove();b.$obj.find("li:last-child").remove()}}})})(jQuery);(function(a){FlipClock.MinuteCounterFace=FlipClock.HourlyCounterFace.extend({clearExcessDigits:!1,constructor:function(c,b){this.base(c,b)},build:function(){this.base(!0,this.factory.time.getMinuteCounter())},flip:function(b){this.base(b,this.factory.time.getMinuteCounter())}})})(jQuery);(function(a){FlipClock.TwentyFourHourClockFace=FlipClock.Face.extend({constructor:function(c,b){c.countdown=!1;this.base(c,b)},build:function(b){var d=this,c=this.factory.$wrapper.find("ul");b=b?b:this.factory.time.time||this.factory.time.getMilitaryTime();b.length>c.length&&a.each(b,function(g,f){d.factory.lists.push(d.createList(f))});this.dividers.push(this.createDivider());this.dividers.push(this.createDivider());a(this.dividers[0]).insertBefore(this.factory.lists[this.factory.lists.length-2].$obj);a(this.dividers[1]).insertBefore(this.factory.lists[this.factory.lists.length-4].$obj);this._clearExcessDigits();this.autoStart&&this.start()},flip:function(b){b=b?b:this.factory.time.getMilitaryTime();this.base(b)},_clearExcessDigits:function(){var c=this.factory.lists[this.factory.lists.length-2],b=this.factory.lists[this.factory.lists.length-4];for(var d=6;d<10;d++){c.$obj.find("li:last-child").remove();b.$obj.find("li:last-child").remove()}}})})(jQuery);(function(a){FlipClock.TwelveHourClockFace=FlipClock.TwentyFourHourClockFace.extend({meridium:!1,meridiumText:"AM",build:function(b){var c=this;b=b?b:this.factory.time.time?this.factory.time.time:this.factory.time.getTime();this.base(b);this.meridiumText=this._isPM()?"PM":"AM";this.meridium=a(['<ul class="flip-clock-meridium">',"<li>",'<a href="#">'+this.meridiumText+"</a>","</li>","</ul>"].join(""));this.meridium.insertAfter(this.factory.lists[this.factory.lists.length-1].$obj)},flip:function(){if(this.meridiumText!=this._getMeridium()){this.meridiumText=this._getMeridium();this.meridium.find("a").html(this.meridiumText)}this.base(this.factory.time.getTime())},_getMeridium:function(){return(new Date).getHours()>=12?"PM":"AM"},_isPM:function(){return this._getMeridium()=="PM"?!0:!1},_clearExcessDigits:function(){var c=this.factory.lists[this.factory.lists.length-2],b=this.factory.lists[this.factory.lists.length-4];for(var d=6;d<10;d++){c.$obj.find("li:last-child").remove();b.$obj.find("li:last-child").remove()}}})})(jQuery);(function(a){FlipClock.DailyCounterFace=FlipClock.Face.extend({showSeconds:!0,constructor:function(c,b){this.base(c,b)},build:function(c,g){var e=this,b=this.factory.$wrapper.find("ul"),d=[],f=0;g=g?g:this.factory.time.getDayCounter(this.showSeconds);g.length>b.length&&a.each(g,function(i,h){d.push(e.createList(h))});this.factory.lists=d;this.showSeconds?a(this.createDivider("Seconds")).insertBefore(this.factory.lists[this.factory.lists.length-2].$obj):f=2;a(this.createDivider("Minutes")).insertBefore(this.factory.lists[this.factory.lists.length-4+f].$obj);a(this.createDivider("Hours")).insertBefore(this.factory.lists[this.factory.lists.length-6+f].$obj);a(this.createDivider("Days",!0)).insertBefore(this.factory.lists[0].$obj);this._clearExcessDigits();this.autoStart&&this.start()},flip:function(c,b){b||(b=this.factory.time.getDayCounter(this.showSeconds));this.base(b,c)},_clearExcessDigits:function(){var c=this.factory.lists[this.factory.lists.length-2],b=this.factory.lists[this.factory.lists.length-4];for(var d=6;d<10;d++){c.$obj.find("li:last-child").remove();b.$obj.find("li:last-child").remove()}}})})(jQuery);